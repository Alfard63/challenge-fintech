<?php session_start()?>

<html>
    <head>
       <meta charset="utf-8">
        <!-- importer le fichier de style -->
        <link rel="stylesheet" href="style.css" media="screen" type="text/css" />
        <title>Gestion des véhicules</title>
    </head>
    <body>
        <div>
            <h1>Bienvenue sur la page de gestions des véhicules</h1>
            
            <form action="gestion_vehicule.php" method="POST">
                
                <div>
                    <h2>Identification du véhicule</h2>
                    
                    <label>Numéro de plaque</label>
                    <input type="text" placeholder="Entrer la plaque du véhicule" name="vehicule_plate" required>
                </div>
                
                <div>
                    <h2>Les conditions d'exploitation du véhicule étudié</h2>

                    <label>Kilométrage annuel moyen du véhicule moteur (km)</label>
                    <input type="average_km" placeholder="Entrer le kilométrage annuel moyen du véhicule moteur" name="average_km" required>
                    <label>Dont kilométrage en charge (km)</label>
                    <input type="average_km_loaded" placeholder="Entrer le nombre de kilométrage en charge" name="average_km_loaded" required>
                    <label>Nombre de véhicules tractés pour un véhicule moteur</label>
                    <input type="nb_towed_vehicule" placeholder="Entrer le nombre de véhicules tractés" name="nb_towed_vehicule" required>
                    <label>Plaque d'immatriculation du véhicule tracté</label>
                    <input type="towed_vehicule_id" placeholder="Entrer la plaque d'immatriculation du véhicule tracté" name="towed_vehicule_id" required>
                    <label>Nombre de jours d'exploitation du véhicule moteur par an</label>
                    <input type="days_used_year" placeholder="Entrer le nombre de jours d'exploitation" name="days_used_year" required>
                    <label>Unité de chargement (texte libre)</label>
                    <input type="load_unit" placeholder="Entrer l'unité de chargement" name="load_unit" required>
                    <label>Capacité de chargement (correspondant à l'unité ci-dessus)</label>
                    <input type="load_capacity" placeholder="Entrer la capacité de chargement" name="load_capacity" required>
                    <label>Coefficient d'utilisation de cette capacité (%)</label>
                    <input type="capacity_use_percentage" placeholder="Entrer le coefficient d'utilisation de cette capacité" name="capacity_use_percentage" required>
                </div>

                <div>
                    <h2>Les coûts variables kilométriques du véhicule étudié</h2>
                
                    <div>
                        <h3>1- Le carburant</h3>
                        <label>Type d'énergie du véhicule</label>
                        <input type="energy_type" placeholder="Entrer le type d'énergie du véhicule" name="energy_type" required>
                        <label>Consommation du véhicule (litre pour 100 km)</label>
                        <input type="consumption" placeholder="Entrer la consomation du véhicule" name="consumption" required>
                        <!-- Pas prix en compte. Frais fixe mis à jour ailleurs (avec les pneus etc) 
                            <label>Prix moyen de l'énergie sur route (hors toutes taxes récupérables) (€)</label>
                        <input type="password" placeholder="Entrer le mot de passe" name="password" required> -->
                        <label>Part de l'approvisionnement citerne (%)</label>
                        <input type="cistern_percentage_use" placeholder="Entrer la part de l'approvisionnement citerne" name="cistern_percentage_use" required>
                        <!-- Pas prix en compte. Frais fixe mis à jour ailleurs
                            label>Prix moyen du litre de Gazole citerne (hors toutes taxes récupérables) (€)</label>
                        <input type="password" placeholder="Entrer le mot de passe" name="password" required>  -->
                    </div>

                    <div>
                        <h3>2- Les pneumatiques</h3>

                        <label>Nombre de pneus du véhicule moteur</label>
                        <input type="nb_tires" placeholder="Entrer le nombre de pneus du véhicule moteur" name="nb_tires" required>
                        <label>Nombre de pneus du véhicule tracté</label>
                        <input type="towed_nb_tires" placeholder="Entrer le nombre de pneus du véhicule tracté" name="towed_nb_tires" required>
                        <label>Type de pneus</label>
                        <input type="tires_brand" placeholder="Entrer le type de pneus utilisés" name="tires_brand" required>
                    </div>

                    <div>
                        <h3>3- L'entretien - réparation</h3>

                        <label>Dépenses annuelles d'entretien-réparations par véhicule (€)</label>
                        <input type="annual_maintenance_cost" placeholder="Entrer les dépenses annuelles d'entretien-réparations" name="annual_maintenance_cost" required>
                    </div>

                    <div>
                        <h3>4- Les péages</h3>

                        <label>Dépenses annuelles de péages (€)</label>
                        <input type="annual_toll_cost" placeholder="Entrer les dépenses annuelles de péages" name="annual_toll_cost" required>
                    </div>
                </div>

                <div>
                    <h2>Les coûts fixes journaliers du véhicule étudié</h2>
                
                    <div>
                        <h3>1 - Les conditions de détention et de financement du véhicule moteur</h3>

                        <label>Durée d'utilisation du véhicule moteur (ans)</label>
                        <input type="days_used_year" placeholder="Entrer la durée d'utilisation du véhicule moteur (ans)" name="days_used_year" required>
                        <label>Mode de financement du véhicule moteur (1 pour Emprunt, 2 pour Crédit Bail, 3 pour Location Financière)</label>
                        <input type="payment_type" placeholder="Entrer le mode de financement du véhicule moteur" name="payment_type" required>
                        <!-- entrée dans une condition en fonction du mode de financement-->

                            <!-- cas de l'emprunt -->
                        <label>Valeur du véhicule moteur (€)</label>
                        <input type="vehicule_cost" placeholder="Entrer la valeur du véhicule moteur" name="vehicule_cost" required>
                        <label>Montant de l'emprunt (€)</label>
                        <input type="loan_value" placeholder="Entrer le montant de l'emprunt" name="loan_value" required>
                        <label>Taux d'intérêt de l'emprunt (%)</label>
                        <input type="loan_rate" placeholder="Entrer le taux d'intérêt de l'emprunt (%)" name="loan_rate" required>
                        <label>Durée de l'emprunt (mois)</label>
                        <input type="payment_term" placeholder="Entrer la durée de l'emprunt" name="payment_term" required>
                        <label>Valeur de revente (€)</label>
                        <input type="resell_cost" placeholder="Entrer la valeur de revente (€)" name="resell_cost" required>
                        
                            <!-- cas de l'autofinancement -->
                        <label>Valeur du véhicule moteur (€)</label>
                        <input type="vehicule_cost" placeholder="Entrer la valeur du véhicule moteur" name="vehicule_cost" required>
                        <label>Montant de l'emprunt (€)</label> <!-- egale a 0 à cacher -->
                        <input type="loan_value" placeholder="Entrer le montant de l'emprunt" name="loan_value" required>
                        <label>Taux d'intérêt de l'emprunt (%)</label>
                        <input type="payment_term" placeholder="Entrer la durée de l'emprunt" name="payment_term" required>
                        <label>Valeur de revente (€)</label>
                        <input type="resell_cost" placeholder="Entrer la valeur de revente (€)" name="resell_cost" required>

                            <!-- cas du crédit bail -->
                        <label>Valeur du véhicule moteur (€)</label>
                        <input type="vehicule_cost" placeholder="Entrer la valeur du véhicule moteur" name="vehicule_cost" required>
                        <label>Durée du contrat (mois)</label>
                        <input type="loan_value" placeholder="Entrer la durée du contrat" name="loan_value" required>
                        <label>Montant mensuel du loyer (€)</label>
                        <input type="monthly_cost" placeholder="Entrer le montant mensuel du loyer" name="monthly_cost" required>
                        <label>Valeur optionnelle d'achat (€)</label>
                        <input type="optional_buying_value" placeholder="Entrer la valeur optionnelle d'achat (€)" name="optional_buying_value" required>
                        <label>Valeur de revente (€)</label>
                        <input type="resell_cost" placeholder="Entrer la valeur de revente (€)" name="resell_cost" required>
                        
                          <!-- cas de la location financière -->
                          <label>Durée du contrat (mois)</label>
                          <input type="loan_value" placeholder="Entrer la durée du contrat" name="loan_value" required>
                          <label>Montant mensuel du loyer (€)</label>
                          <input type="monthly_cost" placeholder="Entrer le montant mensuel du loyer" name="monthly_cost" required>
                    </div>

                    <div>
                          <h3>2 - Les conditions de détention et de financement du véhicule tracté</h3>
                          <!-- Idem à prcédemment mais avec tracté au lieu de moteur ==> faire une boucle ?-->
                          <!-- Nota: a afficher seulement si le véhicule moteur a un véhicule tracté-->

                          <label>Durée d'utilisation du véhicule tractés (ans)</label>
                          <input type="towed_days_used_year" placeholder="Entrer la durée d'utilisation du véhicule moteur (ans)" name="towed_days_used_year" required>
                          <label>Mode de financement du véhicule moteur (1 pour Emprunt, 2 pour Crédit Bail, 3 pour Location Financière)</label>
                          <input type="towed_payment_type" placeholder="Entrer le mode de financement du véhicule moteur" name="towed_payment_type" required>
                          <!-- entrée dans une condition en fonction du mode de financement-->
  
                              <!-- cas de l'emprunt -->
                          <label>Valeur du véhicule moteur (€)</label>
                          <input type="towed_vehicule_cost" placeholder="Entrer la valeur du véhicule moteur" name="towed_vehicule_cost" required>
                          <label>Montant de l'emprunt (€)</label>
                          <input type="towed_loan_value" placeholder="Entrer le montant de l'emprunt" name="towed_loan_value" required>
                          <label>Taux d'intérêt de l'emprunt (%)</label>
                          <input type="towed_loan_rate" placeholder="Entrer le taux d'intérêt de l'emprunt (%)" name="towed_loan_rate" required>
                          <label>Durée de l'emprunt (mois)</label>
                          <input type="towed_payment_term" placeholder="Entrer la durée de l'emprunt" name="towed_payment_term" required>
                          <label>Valeur de revente (€)</label>
                          <input type="towed_resell_cost" placeholder="Entrer la valeur de revente (€)" name="towed_resell_cost" required>
                          
                              <!-- cas de l'autofinancement -->
                          <label>Valeur du véhicule moteur (€)</label>
                          <input type="towed_vehicule_cost" placeholder="Entrer la valeur du véhicule moteur" name="towed_vehicule_cost" required>
                          <label>Montant de l'emprunt (€)</label> <!-- egale a 0 à cacher -->
                          <input type="towed_loan_value" placeholder="Entrer le montant de l'emprunt" name="towed_loan_value" required>
                          <label>Taux d'intérêt de l'emprunt (%)</label>
                          <input type="towed_payment_term" placeholder="Entrer la durée de l'emprunt" name="towed_payment_term" required>
                          <label>Valeur de revente (€)</label>
                          <input type="towed_resell_cost" placeholder="Entrer la valeur de revente (€)" name="towed_resell_cost" required>
  
                              <!-- cas du crédit bail -->
                          <label>Valeur du véhicule moteur (€)</label>
                          <input type="towed_vehicule_cost" placeholder="Entrer la valeur du véhicule moteur" name="towed_vehicule_cost" required>
                          <label>Durée du contrat (mois)</label>
                          <input type="towed_loan_value" placeholder="Entrer la durée du contrat" name="towed_loan_value" required>
                          <label>Montant mensuel du loyer (€)</label>
                          <input type="towed_monthly_cost" placeholder="Entrer le montant mensuel du loyer" name="towed_monthly_cost" required>
                          <label>Valeur optionnelle d'achat (€)</label>
                          <input type="towed_optional_buying_value" placeholder="Entrer la valeur optionnelle d'achat (€)" name="towed_optional_buying_value" required>
                          <label>Valeur de revente (€)</label>
                          <input type="towed_resell_cost" placeholder="Entrer la valeur de revente (€)" name="towed_resell_cost" required>
                          
                            <!-- cas de la location financière -->
                            <label>Durée du contrat (mois)</label>
                            <input type="towed_loan_value" placeholder="Entrer la durée du contrat" name="towed_loan_value" required>
                            <label>Montant mensuel du loyer (€)</label>
                            <input type="towed_monthly_cost" placeholder="Entrer le montant mensuel du loyer" name="towed_monthly_cost" required>
    
                    </div>

                    <div>
                        <h3>3 - Les assurances du véhicule</h3>
                        <label>Montant annuel de l'assurance d'un véhicule RC + VI (€/an)</label>
                        <input type="annual_vehic_insurance_cost" placeholder="Entrer le montant annuel de l'assurance d'un véhicule RC + VI" name="annual_vehic_insurance_cost" required>
                        <label>Montant annuel de l'assurance marchandises transportées par véhicule (€/an)</label>
                        <input type="annual_load_insurance_cost" placeholder="Entrer le montant annuel de l'assurance marchandises" name="annual_load_insurance_cost" required>
                    </div>

                    <div>
                        <h3>4 - La taxe à l'essieu par véhicule</h3>

                        <label>Montant annuel de taxe à l'essieu (€/an)</label>
                        <input type="axles_tax_cost" placeholder="Entrer le montant annuel de taxe à l'essieu" name="axles_tax_cost" required>
                    </div>

                    <div>
                        <h3>5 - Les coûts de structure par véhicule</h3>

                        <label>Montant annuel des coûts de structure par véhicule (€/an)</label>
                        <input type="annual_structure_cost" placeholder="Entrer le montant annuel des coûts de structure par véhicule" name="annual_structure_cost" required>
                    </div>
                </div>

                <div>
                    <h2>Les coûts de personnel de conduite affecté à l'exploitation du véhicule</h2>

                    <label>Nombre de conducteur(s) affecté(s) à l'exploitation du véhicule</label>
                    <input type="nb_drivers" placeholder="Entrer le nombre de conducteur(s)" name="nb_drivers" required>
                    <label>Nombre de jours d'activité par an d'un conducteur</label>
                    <input type="days_activity" placeholder="Entrer le nombre de jours d'activité par an d'un conducteur" name="days_activity" required>
                    <label>Temps de service mensuel (heures)</label>
                    <input type="monthly_service_time" placeholder="Entrer le temps de service mensuel" name="monthly_service_time" required>
                    <label>Temps de conduite mensuel (heures)</label>
                    <input type="monthly_driving_time" placeholder="Entrer le temps de conduite mensuel" name="monthly_driving_time" required>
                    <label>Nombre de jours travaillés par mois</label>
                    <input type="monthly_worked_day" placeholder="Entrer le nombre de jours travaillés par mois" name="monthly_worked_day" required>
                    <label>Salaire mensuel brut (€/mois)</label>
                    <input type="monthly_paycheck" placeholder="Entrer le salaire mensuel brut" name="monthly_paycheck" required>
                    <label>Primes annuelles (€/an)</label>
                    <input type="annual_primes" placeholder="Entrer les primes annuelles" name="annual_primes" required>
                    <label>Taux de cotisations employeurs (%)</label>
                    <input type="tax_rate" placeholder="Entrer le taux de cotisations employeurs" name="tax_rate" required>
                    <label>Indemnités de déplacement par an (€/an)</label>
                    <input type="annual_indemnities" placeholder="Entrer les indemnités de déplacement par an" name="annual_indemnities" required>
                    <label>Nombre de mois payés</label>
                    <input type="nb_months_paid" placeholder="Entrer le nombre de mois payés" name="nb_months_paid" required>
                </div>

                <div>
                    <h2>Autre coût (lié au transport ou non) à inclure dans la recomposition</h2>

                    <label>Libellé de la composante de coût (texte libre)</label>
                    <input type="other_cost_name" placeholder="Entrer le libellé de la composante de coût" name="other_cost_name" >
                    <label>Unité d'œuvre correspondant (texte libre)</label>
                    <input type="other_cost_unit" placeholder="Entrer l'unité d'œuvre correspondant" name="other_cost_unit" >
                    <label>Nombre d'unité utilisé par an</label>
                    <input type="annual_unit_value" placeholder="Entrer le nombre d'unité utilisé par an" name="annual_unit_value" >
                    <label>Montant annuel imputable à ce coût (€/an)</label>
                    <input type="annual_other_cost_value" placeholder="Entrer le ontant annuel imputable à ce coût" name="annual_other_cost_value" >
                </div>


                <!-- Validation des données -->
                <input type="submit" id='submit' value='ENVOYER' >

            </form>
        </div>
    </body>
</html>

